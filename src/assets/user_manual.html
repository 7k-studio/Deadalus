<!--
Copyright (C) 2025 Jakub Kamyk

This file is part of Deadalus.

Deadalus is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 3 of the License, or
(at your option) any later version.

Deadalus is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Deadalus.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Deadalus User Manual</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    header {
      background-color: #2c3e50;
      color: white;
      display: flex;
      align-items: center;
      padding: 10px 20px;
    }

    header img {
      margin-right: 15px;
      margin-bottom: 0;
    }

    .section-menu {
      background-color: #34495e;
      color: white;
      display: flex;
      justify-content: flex-start;
      padding: 10px 20px;
    }

    .section-menu button {
      background: none;
      border: none;
      color: white;
      margin-right: 20px;
      font-size: 16px;
      cursor: pointer;
    }

    .section-menu button:hover {
      text-decoration: underline;
    }

    .container {
      display: flex;
      flex: 1;
      height: calc(100vh - 100px);
    }

    .sidebar {
      width: 220px;
      background-color: #ecf0f1;
      padding: 20px;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    }

    .sidebar h3 {
      margin-top: 0;
    }

    .sidebar ul {
      list-style: none;
      padding-left: 0;
    }

    .sidebar li {
      margin-bottom: 10px;
    }

    .sidebar a {
      color: #2c3e50;
      text-decoration: none;
    }

    .sidebar a:hover {
      text-decoration: underline;
    }

    .content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }

    .page-section {
      display: none;
    }

    .page-section.active {
      display: block;
    }

    details { 
      background: #ddd; 
      border: 1px solid #ccc; 
      border-radius: 5px; 
      margin-bottom: 1em; 
      padding: 1em; 
    }

    .highlight { background: #e1f5fe;
       padding: 0.2em; 
       border-radius: 1px; }

  </style>
</head>
<body>

  <!-- Top Header -->
  <header>
      <img src="logo.png" alt="Program Logo" height="40"/>
      <!-- <pre> <p style="margin: 0;">Welcome to the Deadalus User Manual</p> </pre> -->
  </header>

  <!-- Top Navigation Menu -->
  <div class="section-menu">
    <button onclick="showSection('Deadalus')">Deadalus</button>
    <button onclick="showSection('designer')">Airfoil Designer</button>
    <button onclick="showSection('wing')">Wing Workbench</button>
    <button onclick="showSection('changelog')">Changelog</button>
  </div>

  <!-- Main App Area -->
  <div class="container">
    <!-- Sidebar Menu -->
    <nav class="sidebar">
      <h3>Contents</h3>

      <ul id="menu-Deadalus" class="context-menu">
        <li><a href="#intro">Introduction</a></li>
        <li><a href="#Deadalus">Deadalus</a></li>
        <li><a href="#FileMenu">File Menu</a></li>
        <li><a href="#ProgramMenu">Program Menu</a></li>
        <li><a href="#todo">ToDo</a></li>
      </ul>

      <ul id="menu-designer" class="context-menu" style="display: none;">
        <li><a href="#create">Create Airfoil</a></li>
        <li><a href="#edit">Edit Geometry</a></li>
        <li><a href="#export">Export</a></li>
      </ul>

      <ul id="menu-wing" class="context-menu" style="display: none;">
        <li><a href="#assemble">Assemble Wing</a></li>
        <li><a href="#settings">Settings</a></li>
        <li><a href="#analyze">Analyze</a></li>
      </ul>

      <ul id="menu-changelog" class="context-menu" style="display: none;">
        <li><a href="#notes">Release Notes</a></li>
        <li><a href="#0.3.X beta">0.2.X beta</a></li>
        <li><a href="#0.2.X beta">0.2.X beta</a></li>
        <li><a href="#0.1.X beta">0.1.X beta</a></li>
      </ul>
    </nav>

    <!-- Main Content Area -->
    <main class="content">
      <!-- Deadalus Section -->
      <div id="Deadalus" class="page-section active">
          <h2>Introduction</h2>
          <p>
              Welcome to the Deadalus user manual. Deadalus is a program for designing and editing airfoils and wings. This manual will guide you through the main features and help you get started with your projects.
          </p>
          <ul>
              <li>Design and modify airfoils with intuitive tools.</li>
              <li>Import/export airfoil files in various formats.</li>
              <li>Use the Wing Workbench for advanced wing design.</li>
          </ul>

          <h2>Deadalus</h2>
          <p>Deadalus consists of two modules: 2D airfoil design and 3D wing design.
            Each Deadalus module is equipped with the <span class="highlight">File</span>, <span class="highlight">Edit</span>, <span class="highlight">View</span>, <span class="highlight">Module</span>, and <span class="highlight">About</span> menus.
            Global program interactions can be made through the File and About menus.
          </p>

          <h2>Getting Started</h2>
          <p>Once you start DEADALUS program you will be welcome by Splash Screen of the program. With splash screen you can:</p>
          <ul>
              <li><b>Create new project:</b> Start a new project.</li>
              <li><b>Open existing project:</b> Load an existing project file.</li>
          </ul>
          <img src="splashscreen.png" alt="Splash Screen"/>


          <h3>File Menu</h3>
          <p> Allows user to interact with <span class="highlight">PROJECT</span> itself. Basic interactions are:</p>
          <ul>
              <li><b>New:</b> Start a new project.</li>
              <li><b>Open:</b> Load an existing project file.</li>
              <li><b>Save:</b> Save your current project.</li>
          </ul>

          <h3>About Menu</h3>
          <p> Allows user to interact with <span class="highlight">PROGRAM</span> itself. Basic interactions are:</p>
          <ul>
              <li><b>Preferences:</b> Adjust program settings.</li>
              <li><b>About:</b> Show information about the program.</li>
          </ul>

          <h4>Preferences</h4>
          <p>Preferences window allows you to customize the program settings according to your needs.
            <h5>General performance</h5>
            Allows a user to choose the details level in graphics rendering. user can choose between three options:
            <ul>
              <li><b>Fast:</b> Lowest graphical setting.</li>
              <li><b>Normal:</b> Default graphical setting.</li>
              <li><b>Good:</b> Highest graphical setting.</li>
            </ul>
            <img src="preferences_general_performance.png" alt="preferences general performance"/>
            <h5>Beta features</h5>
            Unlocks functions that are not well tested or stable. Used at user's own risk!
          </p>
          
          <h2>ToDo</h2>
          <ul>
              <li><s>1. Improve .STEP export: for non spline wings / Step for multi element wing / Step for 4x3 grid</s></li>
              <li><s>2. Reopening of project from working Deadalus instance causes problems</s></li>
              <li><s>3. Improve transformation of Component, Wing, Section</s></li>
              <li>4.a. Create ErrorOut file</li>
              <li>4.b. Create better ToolOut file output</li>
              <li><s>5. Additional Segment rotation options should be available</s></li>
              <li><s>6. Improvement/Change of Airfoil Designer viewport from MatPlotLib to OpenGL</s></li>
              <li><s>7. Refreshing of 3D viewport on update</s></li>
              <li><s>8. Multi segment wing mess - surfaces go mad</s></li>
              <li><s>9. Segments of G0 connection and wings of one G1 connection</s></li>
              <li><s>10. Update preferences window</s></li>
              <li><s>11. Reference handling in new OpenGL 2D viewport</s></li>

          </ul>
          <img src="STEP_export.jpg" alt="Wing Workbench" height="500"/>
      </div>

      <!-- Airfoil Designer Section -->
      <div id="designer" class="page-section">
        <h2>Airfoil Designer</h2>
        <p>Design and modify airfoils using control points and geometry tools.</p>
        <img src="airfoil_designer.png" alt="Airfoil Designer" height="500"/>

        <h3 id="create">Edit menu</h3>
        <p>Allows user to interact with Airfoil Designer. Contains basic functinality required to create, recreate, reload an airfoils</p>
          <ul>
              <li><b>Create:</b> Add a new airfoil to your project.</li>
              <li><b>Append:</b> Import an airfoil from a file.</li>
              <li><b>Delete:</b> Remove the selected airfoil.</li>
              <li><b>Save:</b> Save the selected airfoil to a file.</li>
              <li><b>Export:</b> Export the airfoil as a DXF file.</li>
              <li><b>Flip Airfoil:</b> Flip the selected airfoil horizontally.</li>
              <li><b>Rename:</b> Change the name of the selected airfoil.</li>
              <li><b>Edit Description:</b> Edit the airfoil's description.</li>
              <li><b>Fit2Reference:</b> Fit the airfoil to a reference (beta feature).</li>
          </ul>

        <h3 id="edit">View menu</h3>
        <p>Allows user to add elements to displayed airfoil preview</p>
          <ul>
              <li><b>Show Reference:</b> Toggle display of a reference airfoil.</li>
          </ul>
      </div>
      <!-- Wing Workbench Section -->
      <div id="wing" class="page-section">
        <h2>Wing Workbench</h2>
        <p>Assemble full wings from created / established in Airfoil Designer profiles.</p>
        <img src="wing_workbench.png" alt="Wing Workbench" height="500"/>
        <h3>Edit menu</h3>
            <p>
                Allows user to interact with Wing Workbench. Contains basic functinality required to create, objects representing airfoil:
                <li><b>Components:</b> Primary object consits of wing (representation of e.g. Rear Wing in racecar )</li>
                <li><b>Wings:</b> Secondary object consits of segments (representation of e.g. 1st Wing of Rear Wing )</li>
                <li><b>Segments:</b> Constructional element of the wing. Give Wing a shape (representation of e.g. Ribs inside Wing )</li>
            </p>

            <h3>Module Menu</h3>
            <ul>
                <li><b>Wing Module:</b> Open the wing design module (beta feature).</li>
            </ul>
      </div>

      <!-- Change Log Page -->
      <div id="changelog" class="page-section">
        <h2>Change Log</h2>
        <h3 id="notes">Release Notes</h3>
        <p>Details of the latest updates and fixes.</p>
        <details open>
                <summary>v0.3.0 beta</summary>
                <ul>
                    <li>Introduction of Deadalus user manual, available under Program/Manual.</li>
                    <li>Introduction of more complex Open GL viewports</li>
                    <li>.STEP export is introduced. It is available at Wing Workbench in File menu. It allows to export 3D wings (for now tested only for one wing at the time) but works for line-connected(G0 or 4x2 grids) and spline connected (G1 or 4x3 / 4x4) surfaces</li>
                </ul>
                <p><b>More detailed changes are listed below:</b></p>
                <ul>
                    <li><b>Airfoil designer:</b>
                      <p>Airfoil designer now has an OpeGL viewport. It allows for more free lookaround and more freedom with designing. It also repairs the problem of 'jumping' zoom back to original on parameter change.</p>
                        <ul>
                            <li><b>File:</b>
                                <ul>
                                    <li>Open - opens existing project from .ddls file</li>
                                    <li>Save - saves current project to singular .ddls file containing all airfoils parameters and program info with wing parameters. It's now stored within one location/singular file.<li>
                                    <li>Exit - I don't know... try it.. maybe it will work, maybe it will crash the program... one way to find out</li>
                                </ul>
                            </li>
                            <li><b>Edit menu:</b>
                                <ul>
                                    <li>No changes, hopeful everything works like before.</li>
                                </ul>
                            </li>
                            <li><b>View:</b>
                                <ul>
                                    <li>Show reference - Shows reference of airfoil in SELIG format. Now adjusted for OpenGL viewport</li>
                                </ul>
                            </li>
                            <li><b>Program:</b>
                                <ul>
                                    <li>User Manual - But you know that, you are reading this :D</li>
                                    <li>About - shows not so useful about</li>
                                    <li>Preferences - opens preferences window. Allows user to change settings. Now adjusted to the new format so more control in more pleasant way. Importantly you can adjuste the performance of the program in here. You can control how detailed are the wireframe and solids/surfaces inside viewport. This is important in terms of NURBS surface in 3D View. Going 100% migth be laggy on slower computers as it currently is on good one. Optimization is yet to be introduced</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><b>Wing designer:</b>
                      <p>Wing designer now has more advanced and more pleasent OpenGL viewport than before. It allows for more free lookaround and more freedom with designing. LMB to rotate, MMB to translate, RMB to zoom, Mouse Scroll works as well. Double click to reset the view</p>
                        <ul>
                            <li>Export - allows to export created with Deadalus wing to .STEP format.</li>
                            <li>Delete objects - now you can add and delete objects in program... How convenient?</li>
                            <li>View menu now has number of camera pozitions X+/Y+/Z+/X-/Y-/Z- where first leter describes the axis and +/- symbol defines is camera is pointing ahead or backward</li>
                        </ul>
                    </li>
                </ul>
        </details>
        <details close>
                <summary>v0.2.X beta</summary>
                <ul>
                    <li>Introduction of project/file save and load functionality.</li>
                    <li>Displaying of the overlapping OpenGL elements has been resolved. Objects don't stack up anymore and colors and viewport looks more stable.</li>
                    <li>GUI was stabilized in Wing Workbench at the cost of widgets adjustability. Change positively affected ComboBox in 'Parameters Table'</li>
                </ul>
                <p><b>Currently available elements and functions are listed below:</b></p>
                <ul>
                    <li><b>Airfoil designer:</b>
                        <ul>
                            <li><b>File:</b>
                                <ul>
                                    <li>New - now tree menu is cleared and project resets</li>
                                    <li>Open - opens existing project from db.tgz database</li>
                                    <li>Save - saves current project to db.tgz format containing all airfoils parameters (.arf) and program info with wing parameters (.Deadalus)</li>
                                </ul>
                            </li>
                            <li><b>Edit menu:</b>
                                <ul>
                                    <li>Create - creates new airfoil</li>
                                    <li>Append - appends airfoil from existing .arf file</li>
                                    <li>Delete - deletes selected airfoil</li>
                                    <li>Save - saves airfoil to .arf file</li>
                                    <li>Export - exports airfoil to .dxf file</li>
                                    <li>Rename - renames airfoil</li>
                                    <li>Edit description - edits description of an airfoil</li>
                                    <li>Fit2Reference - fits airfoil to reference airfoil (beta feature)</li>
                                </ul>
                            </li>
                            <li><b>View:</b>
                                <ul>
                                    <li>Show reference - Shows reference of airfoil in SELIG format</li>
                                </ul>
                            </li>
                            <li><b>Module:</b>
                                <ul>
                                    <li>Wing module - open Wing Workbench</li>
                                </ul>
                            </li>
                            <li><b>Program:</b>
                                <ul>
                                    <li>About - shows not so useful about</li>
                                    <li>Preferences - opens preferences window. Allows user to change settings</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><b>Wing designer:</b>
                        <ul>
                            <li>New - now tree menu is cleared and project resets</li>
                            <li>Open - opens existing project from db.tgz database</li>
                            <li>Save - saves current project to db.tgz format containing all airfoils parameters (.arf) and program info with wing parameters (.Deadalus)</li>
                        </ul>
                    </li>
                </ul>
        </details>
        <details close>
            <summary>v0.1.X beta</summary>
            <ul>
                <li>Creation of GUI for both Airfoil Designer and Wing Workbench.</li>
                <li>On reopening of Wing Workbench Project Tree is refreshed.</li>
                <li>Repaired floating number display problem by limiting decimals to 5 digits.</li>
                <li>Preferences are now being saved and loaded when program is opening</li>
            </ul>
            <p><b>Currently stable elements and functions are listed below:</b></p>
            <ul>
                <li><b>Airfoil designer:</b>
                    <ul>
                        <li><b>File:</b>
                            <ul>
                                <li>New - now tree menu is cleared and project resets</li>
                                <li>Preferences - opens preferences window</li>
                            </ul>
                        </li>
                        <li><b>Edit menu:</b>
                            <ul>
                                <li>Create - creates new airfoil</li>
                                <li>Append - appends airfoil from existing .arf file</li>
                                <li>Delete - deletes selected airfoil</li>
                                <li>Save - saves airfoil to .arf file</li>
                                <li>Export - exports airfoil to .dxf file</li>
                                <li>Rename - renames airfoil</li>
                                <li>Edit description - edits description of an airfoil</li>
                            </ul>
                        </li>
                        <li><b>View:</b>
                            <ul>
                                <li>Show reference - Shows reference of airfoil in SELIG format</li>
                            </ul>
                        </li>
                        <li><b>Module:</b>
                            <ul>
                                <li>Wing module - open Wing Workbench</li>
                            </ul>
                        </li>
                        <li><b>Help:</b>
                            <ul>
                                <li>About - shows not so useful about</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><b>Wing designer:</b>
                    <ul>
                        <li>Probably nothing :/</li>
                    </ul>
                </li>
            </ul>
        </details>
      </div>
    </main>
  </div>

  <!-- JavaScript for switching sections -->
  <script>
    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));

      // Show selected section
      document.getElementById(sectionId).classList.add('active');

      // Hide all context menus
      document.querySelectorAll('.context-menu').forEach(el => el.style.display = 'none');

      // Show relevant context menu
      const menu = document.getElementById(`menu-${sectionId}`);
      if (menu) menu.style.display = 'block';
    }

    // Default to Deadalus section on load
    window.onload = () => showSection('Deadalus');
  </script>

</body>
</html>
