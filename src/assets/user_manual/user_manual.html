<!--
Copyright (C) 2025 Jakub Kamyk

This file is part of Deadalus.

Deadalus is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 3 of the License, or
(at your option) any later version.

Deadalus is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Deadalus.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Deadalus User Manual</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    header {
      background-color: #2c3e50;
      color: white;
      display: flex;
      align-items: center;
      padding: 10px 20px;
    }

    header img {
      margin-right: 15px;
      margin-bottom: 0;
    }

    .section-menu {
      background-color: #34495e;
      color: white;
      display: flex;
      justify-content: flex-start;
      padding: 10px 20px;
    }

    .section-menu button {
      background: none;
      border: none;
      color: white;
      margin-right: 20px;
      font-size: 16px;
      cursor: pointer;
    }

    .section-menu button:hover {
      text-decoration: underline;
    }

    .container {
      display: flex;
      flex: 1;
      height: calc(100vh - 100px);
    }

    .sidebar {
      width: 220px;
      background-color: #ecf0f1;
      padding: 20px;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    }

    .sidebar h3 {
      margin-top: 0;
    }

    .sidebar ul {
      list-style: none;
      padding-left: 0;
    }

    .sidebar li {
      margin-bottom: 10px;
    }

    .sidebar a {
      color: #2c3e50;
      text-decoration: none;
    }

    .sidebar a:hover {
      text-decoration: underline;
    }

    .content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }

    .page-section {
      display: none;
    }

    .page-section.active {
      display: block;
    }

    details { 
      background: #ddd; 
      border: 1px solid #ccc; 
      border-radius: 5px; 
      margin-bottom: 1em; 
      padding: 1em; 
    }

    .highlight { background: #e1f5fe;
       padding: 0.2em; 
       border-radius: 1px; }

  </style>
</head>
<body>

  <!-- Top Header -->
  <header>
      <img src="assets/logo.png" alt="Program Logo" height="40"/>
      <!-- <pre> <p style="margin: 0;">Welcome to the Deadalus User Manual</p> </pre> -->
  </header>

  <!-- Top Navigation Menu -->
  <div class="section-menu">
    <button onclick="showSection('Deadalus')">Deadalus</button>
    <button onclick="showSection('airfoil')">Airfoil Designer</button>
    <button onclick="showSection('wing')">Wing Designer</button>
    <button onclick="showSection('changelog')">Changelog</button>
  </div>

  <!-- Main App Area -->
  <div class="container">
    <!-- Sidebar Menu -->
    <nav class="sidebar">
      <h3>Contents</h3>

      <ul id="menu-Deadalus" class="context-menu">
        <li><a href="#intro">Introduction</a></li>
        <li><a href="#Deadalus">Deadalus</a></li>
        <li><a href="#FileMenu">File Menu</a></li>
        <li><a href="#ProgramMenu">Program Menu</a></li>
        <!-- <li><a href="#todo">ToDo</a></li> -->
      </ul>

      <ul id="menu-airfoil" class="context-menu" style="display: none;">
        <li><a href="#ADoverview">Overview</a></li>
        <li><a href="#ADMenuBar">Menu Bar</a></li>
        <li><a href="#ADViewport">Viewport</a></li>
        <li><a href="#ADStorage">Airfoil Storage</a></li>
        <li><a href="#ADParamTab">Parameter Table</a></li>
      </ul>

      <ul id="menu-wing" class="context-menu" style="display: none;">
        <li><a href="#assemble">Assemble Wing</a></li>
        <li><a href="#settings">Settings</a></li>
        <li><a href="#analyze">Analyze</a></li>
      </ul>

      <ul id="menu-changelog" class="context-menu" style="display: none;">
        <li><a href="#notes">Release Notes</a></li>
        <li><a href="#0.3.X beta">0.2.X beta</a></li>
        <li><a href="#0.2.X beta">0.2.X beta</a></li>
        <li><a href="#0.1.X beta">0.1.X beta</a></li>
      </ul>
    </nav>

    <!-- Main Content Area -->
    <main class="content">
      <!-- Deadalus Section -->
      <div id="Deadalus" class="page-section active">
          <h2>Introduction</h2>
          <p>
              Welcome to the Deadalus user manual. 
              Deadalus is a program for designing and editing airfoils and wings. 
              This manual will guide you through the main features and help you get started with your projects.
          </p>
          <ul>
              <li>Design and modify airfoils with intuitive tools.</li>
              <li>Import/export airfoil files in various formats.</li>
              <li>Use the Wing Workbench for advanced wing design.</li>
          </ul>
          <img src="assets/Deadalus/STEP_export.jpg" alt="Wing Workbench" height="500"/>

          <h2>Deadalus</h2>
          <p>Deadalus consists of two modules: 
            <button onclick="showSection('airfoil')">2D airfoil designer</button> and
            <button onclick="showSection('wing')">3D wing designer</button>.
            Each module is equipped with Menu Bar which allows for usage of functions and interaction with program objects and program itself.
            Global program interactions can be made through the <span class="highlight">File</span> and <span class="highlight">Program</span> menus.
          </p>

          <h3>Getting Started</h3>
          <p>Once DEADALUS program is started user will be welcomed by Splash Screen of the program. With splash screen you can:</p>
          <ul>
              <li><b>Create new project:</b> Start a new project.</li>
              <li><b>Open existing project:</b> Load an existing project file.</li>
              <li><b>Open user manual:</b> Go directly to user manual without closing the Splash Screen</li>
              <li><b>Open realise notes:</b> Opens web browser with latest realise notes (reqires ethernet connection)</li>
          </ul>
          <img src="assets/Deadalus/splashscreen.png" alt="Splash Screen"/> <br>

          Once new File or Open Project is clicked an <button onclick="showSection('airfoil')">Airfoil Designer</button> window opens.
          In every module user can interact with bar menu sections:

          <h3 id="FileMenu">File Menu</h3>
          <p> Allows user to interact with <span class="highlight">PROJECT</span> itself. Available interactions and functions are:</p>
          <ul>
              <li><b>New:</b> Start a new project.</li>
              <li><b>Open:</b> Load an existing project file.</li>
              <li><b>Save:</b> Save your current project.</li>
              <li><b>Exit:</b> Closes program after clarification.</li>
          </ul>

          <h3 id="ProgramMenu">Program Menu</h3>
          <p> Allows user to interact and get information about <span class="highlight">PROGRAM</span> itself. Basic interactions are:</p>
          <ul>
              <li><b>User Manual:</b> If user gets lost while using program, user manual can be displyed from here.</li>
              <li><b>About:</b> Show information about the program.</li>
              <li><b>Preferences:</b> Adjust program settings.</li>
          </ul>

          <h4>Preferences</h4>
          <p>Preferences window allows user to customize the program settings according to needs.<br>
            <strong>Units</strong> - sets units <span class="highlight">FOR STEP EXPORT ONLY! (at least for now)</span>
            <ul>
              <li><strong>Length:</strong> allows to set length unit (for now only meters available)</li>
              <li><strong>Angle:</strong> allows to set angle unit (for now only radians)</li>
            </ul>
            <strong>General performance: </strong> Allows user to choose the details level in graphics rendering. Performace level is set using slider where 10 is lowest and 100 is highest detail level.<br>
            <img src="assets/Deadalus/preferences_general_performance.png" alt="preferences general performance"/>

            <h5>Beta features</h5>
            Unlocks functions that are not well tested or stable. Used at user's own risk!
          </p>
          
          
      </div>

      <!-- Airfoil Designer Section -->
      <div id="airfoil" class="page-section">
        <div id="ADoverview">
          <h2>Airfoil Designer overview</h2>
          <p>Airfoil designer module allows useer to design, modify and export airfoils using control points and geometry tools. <br>
            Airfoils are defined as 4 splines, each for:
            <ul>
              <li>Pressure Side</li>
              <li>Suction Side</li>
              <li>Leading Edge</li>
              <li>Trailing Edge</li>
            </ul>
            It is belived that with such definition it would be easier to create such airfoil and ensure clean geometry to any CFD software as well as manufacturing.
            To Help with creation of airfoil, designer consists of elements such as:
            <ul>
              <li>Menu Bar</li>
              <li>Viewport</li>
              <li>Airfoil storage</li>
              <li>Parameters tabele</li>
            </ul>
          </p>
          <img src="assets/AirfoilDesigner/airfoil_designer_elements.jpg" alt="Airfoil Designer Elements" height="500"/>
        </div>

        <div id="ADMenuBar">
          <h2>Meanu Bar overview</h2>

          <h3>File menu</h3>
          use following link to check out <a href="#FileMenu">File menu details</a>
          <h3>Edit menu</h3>
          <p>Allows user to interact with Airfoil Designer. Contains basic functinality required to create, recreate, reload an airfoils</p>
            <ul>
                <li><b>Create:</b> Add a new airfoil to your project.</li>
                <li><b>Append:</b> Import an airfoil from a file.</li>
                <li><b>Delete:</b> Remove the selected airfoil.</li>
                <li><b>Save:</b> Save the selected airfoil to a file.</li>
                <li><b>Export:</b> Export the airfoil as a DXF file.</li>
                <li><b>Flip Airfoil:</b> Flip the selected airfoil horizontally.</li>
                <li><b>Rename:</b> Change the name of the selected airfoil.</li>
                <li><b>Edit Description:</b> Edit the airfoil's description.</li>
                <li><b>Fit2Reference:</b> Fit the airfoil to a reference (beta feature).</li>
            </ul>

          <h3>View menu</h3>
          <p>Allows user to add elements to displayed airfoil preview</p>
            <ul>
                <li><b>Show Reference:</b> Toggle display of a reference airfoil.</li>
            </ul>
          
          <h3>Module menu</h3>
          Allows user to change module menu. Available modules are:
          <button onclick="showSection('wing')">Wing Designer</button>

          <h3>Program menu</h3>
          use following link to check out <a href="#ProgramMenu">Program menu details</a>

        </div>
        
        <div id="ADViewport">
          <h2>Viewport overview</h2>
          <img src="assets/AirfoilDesigner/AD_Viewport.jpg" alt="Airfoil Designer Elements" height="500"/>
        </div>
        
        <div id="ADStorage">
          <h2>Airfoil storage overview</h2>
          <img src="assets/AirfoilDesigner/AD_Storage.png" alt="Airfoil Designer Elements" height="500"/>
        </div>
        
        <div id="ADParamTab">
          <h2>Parameter Table overview</h2>
          <img src="assets/AirfoilDesigner/AD_ParamTable.png" alt="Airfoil Designer Elements" height="500"/><br>
          Use arrow up <button>⯅</button> to increase value and arrow down <button>⯆</button> to decrease value of parameter in the same row.
          It is possible to change the increasement/decreasement value by holding keyboard keys while clicking on Left Mouse Button. Allowed modifiers are:
          <ul>
            <li><strong>LMB:</strong> 0.1</li>
            <li><strong>LMB+Shift:</strong> 1.0</li>
            <li><strong>LMB+Ctrl:</strong> 0.01</li>
          </ul>
        </div>
        
      </div>

      <!-- Wing Workbench Section -->
      <div id="wing" class="page-section">
        <h2>Wing Workbench</h2>
        <p>Assemble full wings from created / established in Airfoil Designer profiles.</p>
        <img src="assets/WingDesigner/wing_workbench.png" alt="Wing Workbench" height="500"/>
        <h3>Edit menu</h3>
            <p>
                Allows user to interact with Wing Workbench. Contains basic functinality required to create, objects representing airfoil:
                <li><b>Components:</b> Primary object consits of wing (representation of e.g. Rear Wing in racecar )</li>
                <li><b>Wings:</b> Secondary object consits of segments (representation of e.g. 1st Wing of Rear Wing )</li>
                <li><b>Segments:</b> Constructional element of the wing. Give Wing a shape (representation of e.g. Ribs inside Wing )</li>
            </p>

            <h3>Module Menu</h3>
            <ul>
                <li><b>Wing Module:</b> Open the wing design module (beta feature).</li>
            </ul>
      </div>

      <!-- Change Log Page -->
      <div id="changelog" class="page-section">
        <h2>Change Log</h2>
        <h3 id="notes">Release Notes</h3>
        <p>Details of the latest updates and fixes.</p>
        <details open>
                <summary>v0.3.0 beta</summary>
                <ul>
                    <li>Introduction of Deadalus user manual, available under Program/Manual.</li>
                    <li>Introduction of more complex Open GL viewports</li>
                    <li>.STEP export is introduced. It is available at Wing Workbench in File menu. It allows to export 3D wings (for now tested only for one wing at the time) but works for line-connected(G0 or 4x2 grids) and spline connected (G1 or 4x3 / 4x4) surfaces</li>
                </ul>
                <p><b>More detailed changes are listed below:</b></p>
                <ul>
                    <li><b>Airfoil designer:</b>
                      <p>Airfoil designer now has an OpeGL viewport. It allows for more free lookaround and more freedom with designing. It also repairs the problem of 'jumping' zoom back to original on parameter change.</p>
                        <ul>
                            <li><b>File:</b>
                                <ul>
                                    <li>Open - opens existing project from .ddls file</li>
                                    <li>Save - saves current project to singular .ddls file containing all airfoils parameters and program info with wing parameters. It's now stored within one location/singular file.<li>
                                    <li>Exit - I don't know... try it.. maybe it will work, maybe it will crash the program... one way to find out</li>
                                </ul>
                            </li>
                            <li><b>Edit menu:</b>
                                <ul>
                                    <li>No changes, hopeful everything works like before.</li>
                                </ul>
                            </li>
                            <li><b>View:</b>
                                <ul>
                                    <li>Show reference - Shows reference of airfoil in SELIG format. Now adjusted for OpenGL viewport</li>
                                </ul>
                            </li>
                            <li><b>Program:</b>
                                <ul>
                                    <li>User Manual - But you know that, you are reading this :D</li>
                                    <li>About - shows not so useful about</li>
                                    <li>Preferences - opens preferences window. Allows user to change settings. Now adjusted to the new format so more control in more pleasant way. Importantly you can adjuste the performance of the program in here. You can control how detailed are the wireframe and solids/surfaces inside viewport. This is important in terms of NURBS surface in 3D View. Going 100% migth be laggy on slower computers as it currently is on good one. Optimization is yet to be introduced</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><b>Wing designer:</b>
                      <p>Wing designer now has more advanced and more pleasent OpenGL viewport than before. It allows for more free lookaround and more freedom with designing. LMB to rotate, MMB to translate, RMB to zoom, Mouse Scroll works as well. Double click to reset the view</p>
                        <ul>
                            <li>Export - allows to export created with Deadalus wing to .STEP format.</li>
                            <li>Delete objects - now you can add and delete objects in program... How convenient?</li>
                            <li>View menu now has number of camera pozitions X+/Y+/Z+/X-/Y-/Z- where first leter describes the axis and +/- symbol defines is camera is pointing ahead or backward</li>
                        </ul>
                    </li>
                </ul>
        </details>
        <details close>
                <summary>v0.2.X beta</summary>
                <ul>
                    <li>Introduction of project/file save and load functionality.</li>
                    <li>Displaying of the overlapping OpenGL elements has been resolved. Objects don't stack up anymore and colors and viewport looks more stable.</li>
                    <li>GUI was stabilized in Wing Workbench at the cost of widgets adjustability. Change positively affected ComboBox in 'Parameters Table'</li>
                </ul>
                <p><b>Currently available elements and functions are listed below:</b></p>
                <ul>
                    <li><b>Airfoil designer:</b>
                        <ul>
                            <li><b>File:</b>
                                <ul>
                                    <li>New - now tree menu is cleared and project resets</li>
                                    <li>Open - opens existing project from db.tgz database</li>
                                    <li>Save - saves current project to db.tgz format containing all airfoils parameters (.arf) and program info with wing parameters (.Deadalus)</li>
                                </ul>
                            </li>
                            <li><b>Edit menu:</b>
                                <ul>
                                    <li>Create - creates new airfoil</li>
                                    <li>Append - appends airfoil from existing .arf file</li>
                                    <li>Delete - deletes selected airfoil</li>
                                    <li>Save - saves airfoil to .arf file</li>
                                    <li>Export - exports airfoil to .dxf file</li>
                                    <li>Rename - renames airfoil</li>
                                    <li>Edit description - edits description of an airfoil</li>
                                    <li>Fit2Reference - fits airfoil to reference airfoil (beta feature)</li>
                                </ul>
                            </li>
                            <li><b>View:</b>
                                <ul>
                                    <li>Show reference - Shows reference of airfoil in SELIG format</li>
                                </ul>
                            </li>
                            <li><b>Module:</b>
                                <ul>
                                    <li>Wing module - open Wing Workbench</li>
                                </ul>
                            </li>
                            <li><b>Program:</b>
                                <ul>
                                    <li>About - shows not so useful about</li>
                                    <li>Preferences - opens preferences window. Allows user to change settings</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><b>Wing designer:</b>
                        <ul>
                            <li>New - now tree menu is cleared and project resets</li>
                            <li>Open - opens existing project from db.tgz database</li>
                            <li>Save - saves current project to db.tgz format containing all airfoils parameters (.arf) and program info with wing parameters (.Deadalus)</li>
                        </ul>
                    </li>
                </ul>
        </details>
        <details close>
            <summary>v0.1.X beta</summary>
            <ul>
                <li>Creation of GUI for both Airfoil Designer and Wing Workbench.</li>
                <li>On reopening of Wing Workbench Project Tree is refreshed.</li>
                <li>Repaired floating number display problem by limiting decimals to 5 digits.</li>
                <li>Preferences are now being saved and loaded when program is opening</li>
            </ul>
            <p><b>Currently stable elements and functions are listed below:</b></p>
            <ul>
                <li><b>Airfoil designer:</b>
                    <ul>
                        <li><b>File:</b>
                            <ul>
                                <li>New - now tree menu is cleared and project resets</li>
                                <li>Preferences - opens preferences window</li>
                            </ul>
                        </li>
                        <li><b>Edit menu:</b>
                            <ul>
                                <li>Create - creates new airfoil</li>
                                <li>Append - appends airfoil from existing .arf file</li>
                                <li>Delete - deletes selected airfoil</li>
                                <li>Save - saves airfoil to .arf file</li>
                                <li>Export - exports airfoil to .dxf file</li>
                                <li>Rename - renames airfoil</li>
                                <li>Edit description - edits description of an airfoil</li>
                            </ul>
                        </li>
                        <li><b>View:</b>
                            <ul>
                                <li>Show reference - Shows reference of airfoil in SELIG format</li>
                            </ul>
                        </li>
                        <li><b>Module:</b>
                            <ul>
                                <li>Wing module - open Wing Workbench</li>
                            </ul>
                        </li>
                        <li><b>Help:</b>
                            <ul>
                                <li>About - shows not so useful about</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><b>Wing designer:</b>
                    <ul>
                        <li>Probably nothing :/</li>
                    </ul>
                </li>
            </ul>
        </details>
      </div>
    </main>
  </div>

  <!-- JavaScript for switching sections -->
  <script>
    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));

      // Show selected section
      document.getElementById(sectionId).classList.add('active');

      // Hide all context menus
      document.querySelectorAll('.context-menu').forEach(el => el.style.display = 'none');

      // Show relevant context menu
      const menu = document.getElementById(`menu-${sectionId}`);
      if (menu) menu.style.display = 'block';
    }

    // Default to Deadalus section on load
    window.onload = () => showSection('Deadalus');
  </script>

</body>
</html>
