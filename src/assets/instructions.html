<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AirFLOW Program Instructions</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2em; background: #f9f9f9; }
        h1, h2 { color: #2c3e50; }
        .section { margin-bottom: 2em; }
        details { background: #ddd; border: 1px solid #ccc; border-radius: 5px; margin-bottom: 1em; padding: 1em; }
        summary { font-weight: bold; cursor: pointer; }
        button, .nav-btn { margin: 0.5em 0; padding: 0.5em 1em; }
        .highlight { background: #e1f5fe; padding: 0.5em; border-radius: 3px; }
        #searchResults { margin-top: 1em; }
        .hidden { display: none; }
        .header-logos { display: flex; align-items: center; gap: 1em; background: #555; padding: 1em 1.5em 1em 1em; border-radius: 8px; }
        .header-logos img.logo-icon { height: 36px; }
        .header-logos img.text-logo { height: 96px; }
        .manual-title { font-size: 1em; margin-top: 0.5em; margin-bottom: 1.5em; color: #eee; background: #555; padding: 0.5em 1em; border-radius: 8px; }
        .nav-bar { margin-bottom: 2em; }
        .nav-btn { background: #e3eafc; border: 1px solid #b6c6e3; border-radius: 4px; cursor: pointer; }
        .nav-btn.active { background: #1976d2; color: #ddd; }
    </style>
</head>
<body>
    <div class="header-logos">
        <img src="logo.png" alt="AirFLOW Logo" class="logo-icon">
        <img src="text_logo.png" alt="AirFLOW Text Logo" class="text-logo">
    </div>
    <div class="manual-title">AirFLOW user manual</div>

    <div class="nav-bar">
        <button class="nav-btn active" onclick="showPage('introduction', this)">Introduction</button>
        <button class="nav-btn" onclick="showPage('airflow', this)">AirFLOW</button>
        <button class="nav-btn" onclick="showPage('airfoilDesigner', this)">Airfoil Designer</button>
        <button class="nav-btn" onclick="showPage('wingWorkbench', this)">Wing Workbench</button>
        <button class="nav-btn" onclick="showPage('changeLog', this)">Change Log</button>
    </div>

    <div id="pageContent">
        <!-- Introduction Section -->
        <div id="introductionPage">
            <h2>Introduction</h2>
            <p>
                Welcome to the AirFLOW user manual. AirFLOW is a program for designing, editing, and analyzing airfoils and wings. This manual will guide you through the main features and help you get started with your projects.
            </p>
            <ul>
                <li>Design and modify airfoils with intuitive tools.</li>
                <li>Import/export airfoil files in various formats.</li>
                <li>Use the Wing Workbench for advanced wing design (beta).</li>
            </ul>

            <h2>ToDo</h2>
            <ul>
                <li>Reopening of Airfoil Designer from Wing Designer causes problems</li>
                <li>Provide .STEP export</li>
                <li>Transformation of Component, Wing, Section</li>
            </ul>
        </div>

        <!-- Getting Started Section -->
        <div id="airflowPage" class="hidden">
            <h2>AirFLOW</h2>
            <ul>
                <li>Open the program from your applications menu.</li>
                <li>AirFLOW is equipped with the <span class="highlight">File</span>, <span class="highlight">Edit</span>, <span class="highlight">View</span>, <span class="highlight">Module</span>, and <span class="highlight">About</span> menus.</li>
            </ul>
            <details open>
                <summary>File Menu</summary>
                <ul>
                    <li><b>New:</b> Start a new project.</li>
                    <li><b>Open:</b> Load an existing project file.</li>
                    <li><b>Save:</b> Save your current project.</li>
                </ul>
            </details>
            <details open>
                <summary>About Menu</summary>
                <ul>
                    <li><b>Preferences:</b> Adjust program settings.</li>
                    <li><b>About:</b> Show information about the program.</li>
                </ul>
            </details>
        </div>

        <!-- Airfoil Designer Section -->
        <div id="airfoilDesignerPage" class="hidden">
            <h2>Airfoil Designer</h2>
            <p>
                The Airfoil Designer lets you create, edit, and manage airfoils in your project.
            </p>
            <details open>
                <summary>Edit Menu</summary>
                <ul>
                    <li><b>Create:</b> Add a new airfoil to your project.</li>
                    <li><b>Append:</b> Import an airfoil from a file.</li>
                    <li><b>Delete:</b> Remove the selected airfoil.</li>
                    <li><b>Save:</b> Save the selected airfoil to a file.</li>
                    <li><b>Export:</b> Export the airfoil as a DXF file.</li>
                    <li><b>Flip Airfoil:</b> Flip the selected airfoil horizontally.</li>
                    <li><b>Rename:</b> Change the name of the selected airfoil.</li>
                    <li><b>Edit Description:</b> Edit the airfoil's description.</li>
                    <li><b>Fit2Reference:</b> Fit the airfoil to a reference (beta feature).</li>
                </ul>
            </details>
            <details open>
                <summary>View Menu</summary>
                <ul>
                    <li><b>Show Reference:</b> Toggle display of a reference airfoil.</li>
                </ul>
            </details>
        </div>

        <!-- Wing Workbench Section -->
        <div id="wingWorkbenchPage" class="hidden">
            <h2>Wing Workbench</h2>
            <p>
                The Wing Workbench module allows you to design and analyze wings using your airfoil data. (Beta feature)
            </p>
            <details open>
                <summary>Module Menu</summary>
                <ul>
                    <li><b>Wing Module:</b> Open the wing design module (beta feature).</li>
                </ul>
            </details>
        </div>

        <!-- ChangeLog Section -->
        <div id="changeLogPage" class="hidden">
            <h2>Change Log</h2>
            <details open>
                <summary>v0.2.X beta</summary>
                <ul>
                    <li>Introduction of project/file save and load functionality.</li>
                    <li>Displaying of the overlapping OpenGL elements has been resolved. Objects don't stack up anymore and colors and viewport looks more stable.</li>
                </ul>
                <p><b>Currently available elements and functions are listed below:</b></p>
                <ul>
                    <li><b>Airfoil designer:</b>
                        <ul>
                            <li><b>File:</b>
                                <ul>
                                    <li>New - now tree menu is cleared and project resets</li>
                                    <li>Open - opens existing project from db.tgz database</li>
                                    <li>Save - saves current project to db.tgz format containing all airfoils parameters (.arf) and program info with wing parameters (.airflow)</li>
                                </ul>
                            </li>
                            <li><b>Edit menu:</b>
                                <ul>
                                    <li>Create - creates new airfoil</li>
                                    <li>Append - appends airfoil from existing .arf file</li>
                                    <li>Delete - deletes selected airfoil</li>
                                    <li>Save - saves airfoil to .arf file</li>
                                    <li>Export - exports airfoil to .dxf file</li>
                                    <li>Rename - renames airfoil</li>
                                    <li>Edit description - edits description of an airfoil</li>
                                    <li>Fit2Reference - fits airfoil to reference airfoil (beta feature)</li>
                                </ul>
                            </li>
                            <li><b>View:</b>
                                <ul>
                                    <li>Show reference - Shows reference of airfoil in SELIG format</li>
                                </ul>
                            </li>
                            <li><b>Module:</b>
                                <ul>
                                    <li>Wing module - open Wing Workbench</li>
                                </ul>
                            </li>
                            <li><b>Program:</b>
                                <ul>
                                    <li>About - shows not so useful about</li>
                                    <li>Preferences - opens preferences window. Allows user to change settings</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><b>Wing designer:</b>
                        <li>GUI was stabilized in Wing Workbench at the cost of widgets adjustability. Change positively affected ComboBox in 'Parameters Table'</li>
                        <ul>
                            <li>New - now tree menu is cleared and project resets</li>
                            <li>Open - opens existing project from db.tgz database</li>
                            <li>Save - saves current project to db.tgz format containing all airfoils parameters (.arf) and program info with wing parameters (.airflow)</li>
                        </ul>
                    </li>
                </ul>
            </details>
            <details open>
                <summary>v0.1.X beta</summary>
                <ul>
                    <li>Creation of GUI for both Airfoil Designer and Wing Workbench.</li>
                    <li>On reopening of Wing Workbench Project Tree is refreshed.</li>
                    <li>Repaired floating number display problem by limiting decimals to 5 digits.</li>
                    <li>Preferences are now being saved and loaded when program is opening</li>
                </ul>
                <p><b>Currently stable elements and functions are listed below:</b></p>
                <ul>
                    <li><b>Airfoil designer:</b>
                        <ul>
                            <li><b>File:</b>
                                <ul>
                                    <li>New - now tree menu is cleared and project resets</li>
                                    <li>Preferences - opens preferences window</li>
                                </ul>
                            </li>
                            <li><b>Edit menu:</b>
                                <ul>
                                    <li>Create - creates new airfoil</li>
                                    <li>Append - appends airfoil from existing .arf file</li>
                                    <li>Delete - deletes selected airfoil</li>
                                    <li>Save - saves airfoil to .arf file</li>
                                    <li>Export - exports airfoil to .dxf file</li>
                                    <li>Rename - renames airfoil</li>
                                    <li>Edit description - edits description of an airfoil</li>
                                </ul>
                            </li>
                            <li><b>View:</b>
                                <ul>
                                    <li>Show reference - Shows reference of airfoil in SELIG format</li>
                                </ul>
                            </li>
                            <li><b>Module:</b>
                                <ul>
                                    <li>Wing module - open Wing Workbench</li>
                                </ul>
                            </li>
                            <li><b>Help:</b>
                                <ul>
                                    <li>About - shows not so useful about</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><b>Wing designer:</b>
                        <ul>
                            <li>Probably nothing :/</li>
                        </ul>
                    </li>
                </ul>
            </details>
        </div>

    </div>

    <script>
        // Navigation logic
        function showPage(pageId, btn) {
            const pages = ['introductionPage', 'airflowPage', 'airfoilDesignerPage', 'wingWorkbenchPage', 'changeLogPage'];
            pages.forEach(pid => {
                document.getElementById(pid).classList.add('hidden');
            });
            document.getElementById(pageId + 'Page').classList.remove('hidden');
            // Update nav button active state
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            if (btn) btn.classList.add('active');
        }

        const instructions = [
            { keyword: "new project", text: "Go to File &gt; New to start a new project." },
            { keyword: "import airfoil", text: "Use Edit &gt; Append to import an airfoil from a .arf file." },
            { keyword: "fit reference", text: "Select an airfoil, then use Edit &gt; Fit2Reference to fit it to a reference airfoil." },
            { keyword: "save", text: "Use File &gt; Save to save your current project." },
            { keyword: "export", text: "Use Edit &gt; Export to export the selected airfoil as a DXF file." },
            { keyword: "preferences", text: "Open File or Program &gt; Preferences to change settings." }
        ];

        function searchInstructions() {
            const query = document.getElementById('searchBox').value.toLowerCase();
            const results = instructions.filter(i => i.keyword.includes(query) || i.text.toLowerCase().includes(query));
            const resultsDiv = document.getElementById('searchResults');
            if (!query) {
                resultsDiv.innerHTML = "";
                return;
            }
            if (results.length === 0) {
                resultsDiv.innerHTML = "<em>No instructions found.</em>";
            } else {
                resultsDiv.innerHTML = "<ul>" + results.map(r => `<li>${r.text}</li>`).join('') + "</ul>";
            }
        }

        function showDialog(type) {
            const dialog = document.getElementById('dialogBox');
            let content = "";
            if (type === 'newProject') {
                content = "<b>To create a new project:</b><ul><li>Click on <span class='highlight'>File</span> &gt; <span class='highlight'>New</span>.</li><li>Confirm in the dialog that appears.</li></ul>";
            } else if (type === 'importAirfoil') {
                content = "<b>To import an airfoil:</b><ul><li>Click on <span class='highlight'>Edit</span> &gt; <span class='highlight'>Append</span>.</li><li>Select your .arf file and click Open.</li></ul>";
            } else if (type === 'fitReference') {
                content = "<b>To fit to a reference airfoil:</b><ul><li>Select an airfoil in the tree menu.</li><li>Click on <span class='highlight'>Edit</span> &gt; <span class='highlight'>Fit2Reference</span>.</li><li>Follow the instructions in the Fit2Ref window.</li></ul>";
            }
            dialog.innerHTML = content + "<br><button onclick='closeDialog()'>Close</button>";
            dialog.classList.remove('hidden');
        }

        function closeDialog() {
            document.getElementById('dialogBox').classList.add('hidden');
        }
    </script>
</body>
</html>